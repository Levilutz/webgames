{{- if .Release.IsInstall -}}
apiVersion: v1
kind: Secret
metadata:
  labels:
    {{- include "user-api.labels" . | nindent 4 }}
  name: {{ include "user-api.fullname-postgres" . }}
type: Opaque
data:
  postgresAdminPassword: {{ randAlphaNum 16 | b64enc }}
  postgresAdminUser: {{ "admin" | b64enc }}
  postgresApiPassword: {{ randAlphaNum 16 | b64enc }}
  postgresApiUser: {{ "apiuser" | b64enc }}
  postgresDbName: {{ "userapi" | b64enc }}
{{- end }}
